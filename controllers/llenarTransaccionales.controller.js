//ubicaciones
const ubicaciones = [
    {
      "lng": -70.6483,
      "lat": -33.4372,
      "ubicacionNombre": "Museo Nacional de Bellas Artes"
    },
    {
      "lng": -58.3893,
      "lat": -34.5916,
      "ubicacionNombre": "Estadio Monumental"
    },
    {
      "lng": -99.1862,
      "lat": 19.4045,
      "ubicacionNombre": "Bosque de Chapultepec"
    },
    {
      "lng": -77.0369,
      "lat": -12.0464,
      "ubicacionNombre": "Plaza Mayor de Lima"
    },
    {
      "lng": -70.6503,
      "lat": -33.4611,
      "ubicacionNombre": "Parque Metropolitano de Santiago"
    },
    {
      "lng": -84.1098,
      "lat": 9.9365,
      "ubicacionNombre": "Parque Nacional Manuel Antonio"
    },
    {
      "lng": -43.2075,
      "lat": -22.9139,
      "ubicacionNombre": "Maracanã Stadium"
    },
    {
      "lng": -58.4173,
      "lat": -34.5598,
      "ubicacionNombre": "Museo de Arte Latinoamericano de Buenos Aires"
    },
    {
      "lng": -76.5398,
      "lat": 3.3951,
      "ubicacionNombre": "Centro Histórico de Cartagena"
    },
    {
      "lng": -70.6999,
      "lat": -33.4343,
      "ubicacionNombre": "Cerro San Cristóbal"
    },
    {
      "lng": -60.9766,
      "lat": -31.4274,
      "ubicacionNombre": "Iguazú National Park"
    },
    {
      "lng": -56.1638,
      "lat": -34.9054,
      "ubicacionNombre": "Palacio Salvo"
    },
    {
      "lng": -99.1332,
      "lat": 19.4326,
      "ubicacionNombre": "Zócalo de Ciudad de México"
    },
    {
      "lng": -46.6333,
      "lat": -23.5505,
      "ubicacionNombre": "Avenida Paulista"
    },
    {
      "lng": -74.0721,
      "lat": 4.7109,
      "ubicacionNombre": "Plaza de Bolívar"
    },
    {
      "lng": -70.6519,
      "lat": -33.4646,
      "ubicacionNombre": "Zoológico Nacional de Chile"
    },
    {
      "lng": -58.3802,
      "lat": -34.6037,
      "ubicacionNombre": "Obelisco de Buenos Aires"
    },
    {
      "lng": -84.0838,
      "lat": 9.9301,
      "ubicacionNombre": "Parque Nacional Volcán Arenal"
    },
    {
      "lng": -77.0311,
      "lat": -12.0464,
      "ubicacionNombre": "Museo de Arte de Lima"
    },
    {
      "lng": -70.6487,
      "lat": -33.4378,
      "ubicacionNombre": "Plaza de Armas de Santiago"
    },
    {
      "lng": -84.0716,
      "lat": 9.9327,
      "ubicacionNombre": "La Fortuna Waterfall"
    },
    {
      "lng": -99.1312,
      "lat": 19.4326,
      "ubicacionNombre": "Palacio de Bellas Artes"
    },
    {
      "lng": -46.6361,
      "lat": -23.5507,
      "ubicacionNombre": "Museo de Arte de São Paulo"
    },
    {
      "lng": -55.9734,
      "lat": -27.1138,
      "ubicacionNombre": "Parque Nacional do Iguaçu"
    },
    {
      "lng": -76.5115,
      "lat": 3.4516,
      "ubicacionNombre": "Castillo de San Felipe de Barajas"
    },
    {
      "lng": -70.6423,
      "lat": -33.4262,
      "ubicacionNombre": "Barrio Bellavista"
    },
    {
      "lng": -55.8335,
      "lat": -27.5974,
      "ubicacionNombre": "Puerto Iguazú"
    },
    {
      "lng": -84.0916,
      "lat": 9.9304,
      "ubicacionNombre": "Tabacón Hot Springs"
    },
    {
      "lng": -99.1332,
      "lat": 19.4327,
      "ubicacionNombre": "Museo Frida Kahlo"
    },
    {
      "lng": -46.6395,
      "lat": -23.588,
      "ubicacionNombre": "Mercado Municipal de São Paulo"
    },
    {
      "lng": -77.0282,
      "lat": -12.0465,
      "ubicacionNombre": "Palacio de Gobierno del Perú"
    },
    {
      "lng": -70.6589,
      "lat": -33.4446,
      "ubicacionNombre": "Mercado Central de Santiago"
    },
    {
      "lng": -58.4081,
      "lat": -34.6822,
      "ubicacionNombre": "Estadio Alberto J. Armando"
    },
    {
      "lng": -76.5244,
      "lat": 3.4355,
      "ubicacionNombre": "Iglesia de San Pedro Claver"
    },
    {
      "lng": -70.6278,
      "lat": -33.4569,
      "ubicacionNombre": "Cerro Santa Lucía"
    },
    {
      "lng": -60.0224,
      "lat": -3.119,
      "ubicacionNombre": "Estádio do Maracanã"
    },
    {
      "lng": -84.0813,
      "lat": 9.9336,
      "ubicacionNombre": "La Fortuna, Costa Rica"
    },
    {
      "lng": -77.0291,
      "lat": -12.0464,
      "ubicacionNombre": "Palacio Municipal de Lima"
    },
    {
      "lng": -70.6298,
      "lat": -33.4484,
      "ubicacionNombre": "Barrio Lastarria"
    },
    {
      "lng": -60.6648,
      "lat": -32.906,
      "ubicacionNombre": "Cataratas del Iguazú"
    },
    {
      "lng": -55.8889,
      "lat": -27.0983,
      "ubicacionNombre": "Parque das Aves"
    },
    {
      "lng": -76.5089,
      "lat": 3.521,
      "ubicacionNombre": "Museo del Oro Zenu"
    },
    {
      "lng": -70.6659,
      "lat": -33.4614,
      "ubicacionNombre": "Barrio Italia"
    },
    {
      "lng": -58.4209,
      "lat": -34.6098,
      "ubicacionNombre": "Planetario Galileo Galilei"
    },
    {
      "lng": -99.1427,
      "lat": 19.4294,
      "ubicacionNombre": "Paseo de la Reforma"
    },
    {
      "lng": -43.2095,
      "lat": -22.9099,
      "ubicacionNombre": "Estádio do Maracanã"
    },
    {
      "lng": -84.6844,
      "lat": 10.4639,
      "ubicacionNombre": "Volcán Arenal"
    },
    {
      "lng": -77.0284,
      "lat": -12.0455,
      "ubicacionNombre": "Casa de la Literatura Peruana"
    },
    {
      "lng": -70.6323,
      "lat": -33.437,
      "ubicacionNombre": "Cerro San Cristóbal"
    },
    {
      "lng": -58.4208,
      "lat": -34.5988,
      "ubicacionNombre": "Teatro Colón"
    },
    {
      "lng": -99.1354,
      "lat": 19.4354,
      "ubicacionNombre": "Museo Nacional de Antropología"
    },
    {
      "lng": -46.6416,
      "lat": -23.5895,
      "ubicacionNombre": "Theatro Municipal de São Paulo"
    },
    {
      "lng": -55.7572,
      "lat": -27.5796,
      "ubicacionNombre": "Itaipú Dam"
    },
    {
      "lng": -76.5354,
      "lat": 3.4265,
      "ubicacionNombre": "Museo Naval del Caribe"
    },
    {
      "lng": -70.6725,
      "lat": -33.4544,
      "ubicacionNombre": "Parque Forestal"
    },
    {
        "lng": 13.4125,
        "lat": 52.5167,
        "ubicacionNombre": "Brandenburg Gate, Berlin, Germany"
      },
      {
        "lng": 2.3522,
        "lat": 48.8566,
        "ubicacionNombre": "Eiffel Tower, Paris, France"
      },
      {
        "lng": -0.1276,
        "lat": 51.5074,
        "ubicacionNombre": "Big Ben, London, United Kingdom"
      },
      {
        "lng": -74.0059,
        "lat": 40.7128,
        "ubicacionNombre": "Statue of Liberty, New York City, USA"
      },
      {
        "lng": -79.3977,
        "lat": 43.6532,
        "ubicacionNombre": "CN Tower, Toronto, Canada"
      },
      {
        "lng": 139.6917,
        "lat": 35.6895,
        "ubicacionNombre": "Tokyo Tower, Tokyo, Japan"
      },
      {
        "lng": 4.8952,
        "lat": 52.3702,
        "ubicacionNombre": "Amsterdam Canals, Amsterdam, Netherlands"
      },
      {
        "lng": -3.7038,
        "lat": 40.4168,
        "ubicacionNombre": "Plaza Mayor, Madrid, Spain"
      },
      {
        "lng": -99.1332,
        "lat": 19.4326,
        "ubicacionNombre": "Angel of Independence, Mexico City, Mexico"
      },
      {
        "lng": 151.2094,
        "lat": -33.8688,
        "ubicacionNombre": "Sydney Opera House, Sydney, Australia"
      },
      {
        "lng": -58.3816,
        "lat": -34.6037,
        "ubicacionNombre": "Obelisco, Buenos Aires, Argentina"
      },
      {
        "lng": 126.978,
        "lat": 37.5665,
        "ubicacionNombre": "N Seoul Tower, Seoul, South Korea"
      },
      {
        "lng": -0.1419,
        "lat": 51.5014,
        "ubicacionNombre": "Buckingham Palace, London, United Kingdom"
      },
      {
        "lng": -118.2437,
        "lat": 34.0522,
        "ubicacionNombre": "Hollywood Sign, Los Angeles, USA"
      },
      {
        "lng": -43.1729,
        "lat": -22.9068,
        "ubicacionNombre": "Christ the Redeemer, Rio de Janeiro, Brazil"
      },
      {
        "lng": 151.197,
        "lat": -33.8679,
        "ubicacionNombre": "Darling Harbour, Sydney, Australia"
      },
      {
        "lng": 9.1916,
        "lat": 45.4642,
        "ubicacionNombre": "Duomo di Milano, Milan, Italy"
      },
      {
        "lng": -43.9309,
        "lat": -19.9167,
        "ubicacionNombre": "Mineirão Stadium, Belo Horizonte, Brazil"
      },
      {
        "lng": 2.2945,
        "lat": 48.8584,
        "ubicacionNombre": "Louvre Museum, Paris, France"
      },
      {
        "lng": -118.3287,
        "lat": 34.0736,
        "ubicacionNombre": "Griffith Observatory, Los Angeles, USA"
      },
      {
        "lng": 174.765,
        "lat": -36.8485,
        "ubicacionNombre": "Sky Tower, Auckland, New Zealand"
      },
      {
        "lng": -0.127,
        "lat": 51.5074,
        "ubicacionNombre": "London Eye, London, United Kingdom"
      },
      {
        "lng": -99.1356,
        "lat": 19.4267,
        "ubicacionNombre": "Palacio de Bellas Artes, Mexico City, Mexico"
      },
      {
        "lng": -0.1779,
        "lat": 51.5013,
        "ubicacionNombre": "Kensington Palace, London, United Kingdom"
      },
      {
        "lng": -77.0369,
        "lat": 38.9072,
        "ubicacionNombre": "Lincoln Memorial, Washington D.C., USA"
      },
      {
        "lng": 2.2945,
        "lat": 48.8738,
        "ubicacionNombre": "Sacré-Cœur, Paris, France"
      },
      {
        "lng": 151.203,
        "lat": -33.8675,
        "ubicacionNombre": "Sydney Harbour Bridge, Sydney, Australia"
      },
      {
        "lng": 6.9175,
        "lat": 50.9375,
        "ubicacionNombre": "Atomium, Brussels, Belgium"
      },
      {
        "lng": -58.4269,
        "lat": -34.5711,
        "ubicacionNombre": "Estadio Monumental, Buenos Aires, Argentina"
      },
      {
        "lng": 9.1859,
        "lat": 45.4642,
        "ubicacionNombre": "Galleria Vittorio Emanuele II, Milan, Italy"
      },
      {
        "lng": 4.8531,
        "lat": 45.7758,
        "ubicacionNombre": "Parc Olympique Lyonnais, Lyon, France"
      },
      {
        "lng": 2.2945,
        "lat": 48.8566,
        "ubicacionNombre": "Musée d'Orsay, Paris, France"
      },
      {
        "lng": 4.6185,
        "lat": 51.2309,
        "ubicacionNombre": "Stade de France, Saint-Denis, France"
      },
      {
        "lng": -122.4194,
        "lat": 37.7749,
        "ubicacionNombre": "Golden Gate Bridge, San Francisco, USA"
      },
      {
        "lng": 151.210,
        "lat": -33.873,
        "ubicacionNombre": "Royal Botanic Garden, Sydney, Australia"
      },
      {
        "lng": -75.1652,
        "lat": 39.9526,
        "ubicacionNombre": "Independence Hall, Philadelphia, USA"
      },
      {
        "lng": -58.5033,
        "lat": -34.6157,
        "ubicacionNombre": "Estadio Alberto J. Armando (La Bombonera), Buenos Aires, Argentina"
      },
      {
        "lng": 2.3522,
        "lat": 48.8566,
        "ubicacionNombre": "Musée du Louvre, Paris, France"
      },
      {
        "lng": -84.3900,
        "lat": 33.7550,
        "ubicacionNombre": "Georgia Aquarium, Atlanta, USA"
      },
      {
        "lng": 4.3605,
        "lat": 50.8439,
        "ubicacionNombre": "MAS Museum, Antwerp, Belgium"
      },
      {
        "lng": -122.4101,
        "lat": 37.8024,
        "ubicacionNombre": "Alcatraz Island, San Francisco, USA"
      },
      {
        "lng": -0.1270,
        "lat": 51.5136,
        "ubicacionNombre": "National Gallery, London, United Kingdom"
      },
      {
        "lng": 6.1170,
        "lat": 50.7781,
        "ubicacionNombre": "Liege-Guillemins Railway Station, Liege, Belgium"
      },
      {
        "lng": -3.7103,
        "lat": 40.4200,
        "ubicacionNombre": "Royal Palace of Madrid, Madrid, Spain"
      },
      {
        "lng": 174.764,
        "lat": -41.2865,
        "ubicacionNombre": "Te Papa Museum, Wellington, New Zealand"
      },
      {
        "lng": -58.5053,
        "lat": -34.6350,
        "ubicacionNombre": "Estadio Pedro Bidegain (Nuevo Gasómetro), Buenos Aires, Argentina"
      },
      {
        "lng": -2.3580,
        "lat": 51.5081,
        "ubicacionNombre": "Museum of London, London, United Kingdom"
      },
      {
        "lng": 12.4853,
        "lat": 41.8937,
        "ubicacionNombre": "Colosseum, Rome, Italy"
      },
      {
        "lng": -118.409,
        "lat": 33.9192,
        "ubicacionNombre": "Universal Studios Hollywood, Los Angeles, USA"
      },
      {
        "lng": -75.6972,
        "lat": 45.4215,
        "ubicacionNombre": "Notre-Dame Basilica, Montreal, Canada"
      },
      {
        "lng": 9.1897,
        "lat": 48.7769,
        "ubicacionNombre": "Frankfurt Cathedral, Frankfurt, Germany"
      },
      {
        "lng": -0.1270,
        "lat": 51.5074,
        "ubicacionNombre": "Westminster Abbey, London, United Kingdom"
      },
      {
        "lng": -77.0369,
        "lat": 38.8951,
        "ubicacionNombre": "Smithsonian National Air and Space Museum, Washington D.C., USA"
      },
      {
        "lng": -82.4519,
        "lat": 27.9478,
        "ubicacionNombre": "Salvador Dalí Museum, St. Petersburg, USA"
      },
      {
        "lng": -43.2086,
        "lat": -22.9035,
        "ubicacionNombre": "Maracanã Stadium, Rio de Janeiro, Brazil"
      },
      {
        "lng": 12.4911,
        "lat": 41.8902,
        "ubicacionNombre": "Roman Forum, Rome, Italy"
      },
      {
        "lng": 4.4025,
        "lat": 51.2194,
        "ubicacionNombre": "Antwerp Central Station, Antwerp, Belgium"
      },
      {
        "lng": -74.2599,
        "lat": 40.6971,
        "ubicacionNombre": "MetLife Stadium, East Rutherford, USA"
      },
      {
        "lng": -77.0369,
        "lat": 38.8895,
        "ubicacionNombre": "National Museum of American History, Washington D.C., USA"
      },
      {
        "lng": -117.220,
        "lat": 32.7555,
        "ubicacionNombre": "San Diego Zoo, San Diego, USA"
      },
      {
        "lng": -74.0445,
        "lat": 40.6892,
        "ubicacionNombre": "Brooklyn Bridge, New York City, USA"
      },
      {
        "lng": -122.4759,
        "lat": 37.8024,
        "ubicacionNombre": "Golden Gate Park, San Francisco, USA"
      },
      {
        "lng": -3.7100,
        "lat": 40.4168,
        "ubicacionNombre": "Prado Museum, Madrid, Spain"
      },
      {
        "lng": 9.1829,
        "lat": 45.4641,
        "ubicacionNombre": "Santa Maria delle Grazie, Milan, Italy"
      },
      {
        "lng": 2.3416,
        "lat": 48.8575,
        "ubicacionNombre": "Centre Pompidou, Paris, France"
      },
      {
        "lng": -74.1760,
        "lat": 40.7128,
        "ubicacionNombre": "Liberty State Park, Jersey City, USA"
      },
      {
        "lng": -77.0258,
        "lat": 38.8786,
        "ubicacionNombre": "United States Capitol, Washington D.C., USA"
      },
      {
        "lng": -118.2923,
        "lat": 34.0853,
        "ubicacionNombre": "Getty Center, Los Angeles, USA"
      },
      {
        "lng": 5.3600,
        "lat": 51.2222,
        "ubicacionNombre": "Zoo Antwerp, Antwerp, Belgium"
      },
      {
        "lng": -43.2159,
        "lat": -22.9717,
        "ubicacionNombre": "Parque Olímpico, Rio de Janeiro, Brazil"
      },
      {
        "lng": 12.4769,
        "lat": 41.9028,
        "ubicacionNombre": "Pantheon, Rome, Italy"
      },
      {
        "lng": -122.4128,
        "lat": 37.8010,
        "ubicacionNombre": "California Academy of Sciences, San Francisco, USA"
      },
      {
        "lng": 9.1800,
        "lat": 45.4637,
        "ubicacionNombre": "Teatro alla Scala, Milan, Italy"
      },
      {
        "lng": -74.1581,
        "lat": 40.8296,
        "ubicacionNombre": "MetLife Stadium, East Rutherford, USA"
      },
      {
        "lng": -0.1246,
        "lat": 51.5073,
        "ubicacionNombre": "Trafalgar Square, London, United Kingdom"
      },
      {
        "lng": 2.2930,
        "lat": 48.8606,
        "ubicacionNombre": "Sainte-Chapelle, Paris, France"
      },
      {
        "lng": -77.0369,
        "lat": 38.8981,
        "ubicacionNombre": "National Museum of Natural History, Washington D.C., USA"
      },
      {
        "lng": -74.0204,
        "lat": 40.6892,
        "ubicacionNombre": "One World Trade Center, New York City, USA"
      },
      {
        "lng": -122.4882,
        "lat": 37.7775,
        "ubicacionNombre": "Golden Gate Park, San Francisco, USA"
      },
      {
        "lng": -3.6883,
        "lat": 40.4184,
        "ubicacionNombre": "Thyssen-Bornemisza Museum, Madrid, Spain"
      },
      {
        "lng": 9.1897,
        "lat": 48.7770,
        "ubicacionNombre": "Frankfurt Zoological Garden, Frankfurt, Germany"
      },
      {
        "lng": -2.1800,
        "lat": 41.3752,
        "ubicacionNombre": "Sagrada Familia, Barcelona, Spain"
      },
      {
        "lng": 4.3517,
        "lat": 50.8429,
        "ubicacionNombre": "Brussels Town Hall, Brussels, Belgium"
      },
      {
        "lng": -43.1581,
        "lat": -22.9068,
        "ubicacionNombre": "Flamengo Park, Rio de Janeiro, Brazil"
      },
      {
        "lng": 12.4922,
        "lat": 41.8902,
        "ubicacionNombre": "Vittorio Emanuele II Bridge, Rome, Italy"
      },
      {
        "lng": -33.9144,
        "lat": 151.2372,
        "ubicacionNombre": "Sculpture by the Sea, Bondi, Sídney, Australia"
    },
    {
        "lng": 36.2648,
        "lat": -111.0377,
        "ubicacionNombre": "Antelope Canyon, Arizona, EE. UU."
    },
    {
        "lng": -15.8550,
        "lat": -47.9340,
        "ubicacionNombre": "Palacio do Itamaraty, Brasilia, Brasil"
    },
    {
        "lng": 53.3498,
        "lat": -6.2603,
        "ubicacionNombre": "Acantilados de Howth, Dublín, Irlanda"
    },
    {
        "lng": 38.7894,
        "lat": -9.4661,
        "ubicacionNombre": "Quinta da Regaleira, Sintra, Portugal"
    },
    {
        "lng": 40.3504,
        "lat": -3.7689,
        "ubicacionNombre": "Ciudad Encantada, Cuenca, España"
    },
    {
        "lng": 38.0521,
        "lat": -87.3016,
        "ubicacionNombre": "Lago de los Bosques, Kentucky, EE. UU."
    },
    {
        "lng": 33.8431,
        "lat": -117.9938,
        "ubicacionNombre": "The Wave, Arizona, EE. UU."
    },
    {
        "lng": 37.5122,
        "lat": 126.9980,
        "ubicacionNombre": "Namsan Seoul Tower, Seúl, Corea del Sur"
    },
    {
        "lng": -34.5298,
        "lat": -58.4156,
        "ubicacionNombre": "Puente de la Mujer, Buenos Aires, Argentina"
    },
    {
        "lng": 44.5632,
        "lat": -71.3415,
        "ubicacionNombre": "Monte Washington, New Hampshire, EE. UU."
    },
    {
        "lng": 36.0652,
        "lat": -112.1386,
        "ubicacionNombre": "Horseshoe Bend, Arizona, EE. UU."
    },
    {
        "lng": 59.4395,
        "lat": 24.8328,
        "ubicacionNombre": "Parque Kadriorg, Tallin, Estonia"
    },
    {
        "lng": -8.4164,
        "lat": 115.2583,
        "ubicacionNombre": "Templo Lempuyang, Bali, Indonesia"
    },
    {
        "lng": 34.1266,
        "lat": -116.3150,
        "ubicacionNombre": "Pioneertown, California, EE. UU."
    }
];  

var funcionesTransaccionales = {};


//modelos
var carreraSchema= require('../models/carreras.model');
var clienteSchema  = require('../models/clientes.model');
var comentarioSchema  = require('../models/comentarios.model');
var conductoreSchema  = require('../models/conductores.model');
var zonasRestringidaSchema  = require('../models/zonasRestringidas.model');

//arrays
var clientes = [];
var conductores = [];
var zonasRestringidas = [];
var metodoPagos = ['Efectivo', 'Trajeta Credito', 'Transaccion'];
var comentarios =['Muy bien', 'Muy mal', 'Excelente', 'Increible', 'Buena experiencia', 'El carro olia mal', 'Muy buena persona el conductor', 'Ojala no me hubiera subido', '5 estrellas'];

//Funcion para obtener numeros aleatorios
function numeroAleatorio(min, max) {
  return Math.floor(Math.random() * (max - min + 1)) + min;
};  

//Funcion para obtener una fecha aleatoria
function generarFechaAleatoria(fechaInicio, fechaFin) {
  // Convertir las cadenas de fecha a objetos Date
  var fechaInicioObj = new Date(fechaInicio);
  var fechaFinObj = new Date(fechaFin);

  // Generar un número aleatorio entre el tiempo de fechaInicio y fechaFin
  var tiempoAleatorio = fechaInicioObj.getTime() + Math.random() * (fechaFinObj.getTime() - fechaInicioObj.getTime());

  // Crear una nueva fecha aleatoria
  var fechaAleatoria = new Date(tiempoAleatorio);

  return fechaAleatoria;
};

funcionesTransaccionales.llenarCarrerasComentarios = async() =>{

    //variables
    var ubicacionInicio ={};
    var ubicacionFinal = {};

    try{
        
        //obtener datos 
        clientes = await clienteSchema.find({}, '_id nombre apellido');
        //console.log(clientes);

        conductores = await conductoreSchema.find({}, '_id nombre apellido');
        //console.log(conductores);
        
        zonasRestringidas = await zonasRestringidaSchema.find({}, {_id:false});
        //console.log(zonasRestringidas);

        for (var i = 0; i <1000; i++) {
          //ubicacion de inicio
          do {
              banderaUbicacionInicio = false;
              ubicacionInicio = ubicaciones[numeroAleatorio(0,zonasRestringidas.length-1)]
              zonasRestringidas.forEach(zonaRestringida =>{
                  if(zonaRestringida.ubicacionNombre == ubicacionInicio.ubicacionNombre){
                      banderaUbicacionInicio = true;
                  }
              });

          } while (banderaUbicacionInicio);

          //ubicacion de final
          do {
              banderaUbicacionFinal = false;
              ubicacionFinal = ubicaciones[numeroAleatorio(0,zonasRestringidas.length-1)]
              zonasRestringidas.forEach(zonaRestringida =>{
                  if(zonaRestringida.ubicacionNombre === ubicacionFinal.ubicacionNombre){
                      banderaUbicacionFinal = true;
                      console.log("Zona Restringida");
                  }
              });
          } while (banderaUbicacionFinal);

          cliente = clientes[numeroAleatorio(0,clientes.length-1)];
          conductor = conductores[numeroAleatorio(0,conductores.length-1)];

          fechaCarrera = generarFechaAleatoria("2010-01-01", "2024-05-31");
          //console.log(fechaCarrera);

          metodoPago = metodoPagos[numeroAleatorio(0,metodoPagos.length-1)];
          //console.log(metodoPago);

          factura = {
            metodoPago: metodoPagos[numeroAleatorio(0,metodoPagos.length-1)],
            total: numeroAleatorio(150,1000)
          }
          //console.log(factura);

          //Carrera
          objeto = {
            conductor: {
              id: conductor._id,
              nombre: conductor.nombre + ' ' + conductor.apellido,
            },
            cliente: {
              id: cliente._id,
              nombre: cliente.nombre + ' ' + cliente.apellido
            },
            ubicacionInicio: ubicacionInicio,
            ubicacionFinal: ubicacionFinal,
            estado: true,
            fecha: fechaCarrera,
            factura: factura,
          }

          carrera = new carreraSchema(objeto);
          const resultadoCarrera = await carrera.save();


            //Comentario
          objeto2 = {
              conductor: {
                  id: conductor._id,
                  nombre: conductor.nombre + ' ' + conductor.apellido,
              },
              cliente: {
                  id: cliente._id,
                  nombre: cliente.nombre + ' ' + cliente.apellido
              },
              comentario: comentarios[numeroAleatorio(0,comentarios.length-1)],
              puntuacion: numeroAleatorio(0,5),
              fecha: fechaCarrera,
              carrera: resultadoCarrera._id
          }

          comentario = new comentarioSchema(objeto2);
          const resultadoComentario = await comentario.save();

          await clienteSchema.updateOne({_id:cliente._id},
          {
              $push:{
                  "carreras": resultadoCarrera._id
              }
          });

          await conductoreSchema.updateOne({_id:conductor._id},
          {
              $push:{
                  "carreras": resultadoCarrera._id
              }
          });
        
      }

    }catch(error){
      console.log(error);
    }
};

module.exports = funcionesTransaccionales;